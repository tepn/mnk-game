# Variables
EXE=mnk-game
EXEGDB=$(EXE)-debug

# Compilation Flags
CFLAGS=-Wall -Wextra -Werror -std=c99
CPPFLAGS=-I ../include
LDFLAGS=-lm
GDBFLAGS=-g -DDEBUG

# Rules and targets
.PHONY: all debug clean help

all: $(EXE)

${EXE}: mnk-game.c mnk-game.h board.c ../include/board.h
	$(CC) $(CFLAGS) $(CPPFLAGS) -o $@ mnk-game.c board.c $(LDFLAGS)

debug: mnk-game.c mnk-game.h

	$(CC) $(CFLAGS) $(CPPFLAGS) -o $(EXEGDB) mnk-game.c board.c $(LDFLAGS) $(GDBFLAGS)

clean:
	@rm -rf *.o *~ $(EXE) $(EXEGDB) *~
	@cd ../include/ && rm -f *~

help:
	@echo "help mnk-game/src/:"
	@echo
	@echo "-------------------"
	@echo "  Usage  "
	@echo "-------------------"
	@echo " make [all]    Build the software"
	@echo " make clean    Remove all files generated by make"
	@echo " make help     Display this help"
	@echo "-------------------"
